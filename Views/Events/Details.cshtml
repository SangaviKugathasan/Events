@model EventZax.Models.Event
@{
    ViewData["Title"] = Model.Title;
}

@if (TempData["Success"] != null)
{
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        @TempData["Success"]
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
}

<div class="row">
    <div class="col-md-6">
        @if (!string.IsNullOrEmpty(Model.ImagePath))
        {
            <img src="@Model.ImagePath" class="img-fluid mb-3" style="max-height:350px;object-fit:cover;" alt="@Model.Title" />
        }
        <h2>@Model.Title</h2>
        <p><strong>Category:</strong> @Model.Category</p>
        <p><strong>Venue:</strong> @Model.VenueName</p>
        <p><strong>Dates:</strong> @(Model.EndDate.HasValue ? Model.StartDate.ToShortDateString() + " - " + Model.EndDate.Value.ToShortDateString() : Model.StartDate.ToShortDateString())</p>
    </div>
    <div class="col-md-6">
        <h4>Register for this event</h4>
        <form asp-action="Register" method="post">
            <input type="hidden" name="eventId" value="@Model.Id" />
            <div class="mb-3">
                <label>Full Name</label>
                <input type="text" name="FullName" class="form-control" required />
            </div>
            <div class="mb-3">
                <label>Address</label>
                <input type="text" name="Address" class="form-control" required />
            </div>
            <div class="mb-3">
                <label>Telephone Number</label>
                <input type="tel" name="Tel" class="form-control" required />
            </div>
            <div class="mb-3">
                <label>Email</label>
                <input type="email" name="Email" class="form-control" required />
            </div>
            <button type="submit" class="btn btn-success">Register</button>
        </form>
    </div>
</div>
